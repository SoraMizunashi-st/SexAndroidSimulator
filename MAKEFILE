CC = g++
OPTIMIZE = -O2 -std=c++17 -DYAML_CPP_STATIC_DEFINE

OBJ_DIR = ./bin/
SRC_DIR = ./src/

OBJSF = .o
CSF   = .c
CPPSF = .cpp
HSF   = .h
HPPSF = .hpp

TARGET = SAS

# -----------------------------------------------------------------------------------------------------------------------------
#
# App Object
#
# -----------------------------------------------------------------------------------------------------------------------------

MAIN_NAME = App
MAIN_SRC = $(SRC_DIR)$(MAIN_NAME)$(CPPSF)
MAIN_HDR = $(SRC_DIR)$(MAIN_NAME)$(HPPSF)
MAIN_OBJ = $(OBJ_DIR)$(MAIN_NAME)$(OBJSF)

# -----------------------------------------------------------------------------------------------------------------------------
#
# Core Object
#
# -----------------------------------------------------------------------------------------------------------------------------

CORE_DIR = Core/
CORE_NAME = SasCore
CORE_SRC = $(SRC_DIR)$(CORE_DIR)$(CORE_NAME)$(CPPSF)
CORE_HDR = $(SRC_DIR)$(CORE_DIR)$(CORE_NAME)$(HPPSF)
CORE_OBJ = $(OBJ_DIR)$(CORE_DIR)$(CORE_NAME)$(OBJSF)


# -----------------------------------------------------------------------------------------------------------------------------
#
# Type Object
#
# -----------------------------------------------------------------------------------------------------------------------------
TYPE_DIR  = Type/
# -----------------------------------------------------------------------------------------------------------------------------
BASIC_DIR = Basic/
# -----------------------------------------------------------------------------------------------------------------------------
#BASIC_NAME1 = TypeEnumRole
#BASIC_SRC1 = $(SRC_DIR)$(TYPE_DIR)$(BASIC_DIR)$(BASIC_NAME1)$(CPPSF)
#BASIC_HDR1 = $(SRC_DIR)$(TYPE_DIR)$(BASIC_DIR)$(BASIC_NAME1)$(HPPSF)
#BASIC_OBJ1 = $(OBJ_DIR)$(TYPE_DIR)$(BASIC_DIR)$(BASIC_NAME1)$(OBJSF)
# -----------------------------------------------------------------------------------------------------------------------------
#BASIC_OBJ = $(BASIC_OBJ1)
# -----------------------------------------------------------------------------------------------------------------------------
ENUM_DIR  = Enum/
# -----------------------------------------------------------------------------------------------------------------------------
ENUM_NAME1 = TypeEnumRole
ENUM_SRC1 = $(SRC_DIR)$(TYPE_DIR)$(ENUM_DIR)$(ENUM_NAME1)$(CPPSF)
ENUM_HDR1 = $(SRC_DIR)$(TYPE_DIR)$(ENUM_DIR)$(ENUM_NAME1)$(HPPSF)
ENUM_OBJ1 = $(OBJ_DIR)$(TYPE_DIR)$(ENUM_DIR)$(ENUM_NAME1)$(OBJSF)

ENUM_NAME2 = TypeEnumErogenousZone
ENUM_SRC2 = $(SRC_DIR)$(TYPE_DIR)$(ENUM_DIR)$(ENUM_NAME2)$(CPPSF)
ENUM_HDR2 = $(SRC_DIR)$(TYPE_DIR)$(ENUM_DIR)$(ENUM_NAME2)$(HPPSF)
ENUM_OBJ2 = $(OBJ_DIR)$(TYPE_DIR)$(ENUM_DIR)$(ENUM_NAME2)$(OBJSF)
# -----------------------------------------------------------------------------------------------------------------------------
ENUM_OBJ  = $(ENUM_OBJ1) $(ENUM_OBJ2)
# -----------------------------------------------------------------------------------------------------------------------------
# All Types Object
# -----------------------------------------------------------------------------------------------------------------------------
TYPE_OBJ = $(BASIC_OBJ) $(ENUM_OBJ)
# -----------------------------------------------------------------------------------------------------------------------------

# -----------------------------------------------------------------------------------------------------------------------------
#
# All Object
#
# -----------------------------------------------------------------------------------------------------------------------------
OBJ = $(MAIN_OBJ) $(CORE_OBJ) $(TYPE_OBJ)

# -----------------------------------------------------------------------------------------------------------------------------
#
# Rule
#
# -----------------------------------------------------------------------------------------------------------------------------
.PHONY: all
all: $(TARGET)

$(TARGET): $(OBJ)
	$(CC) $(OPTIMIZE) -o $(TARGET) $(OBJ)

# -----------------------------------------------------------------------------------------------------------------------------
#
# App Object
#
# -----------------------------------------------------------------------------------------------------------------------------
$(MAIN_OBJ): $(MAIN_SRC) $(MAIN_HDR)
	$(CC) $(OPTIMIZE) -c $(MAIN_SRC) -o $(MAIN_OBJ)

# -----------------------------------------------------------------------------------------------------------------------------
#
# Core Object
#
# -----------------------------------------------------------------------------------------------------------------------------
$(CORE_OBJ): $(CORE_SRC) $(CORE_HDR)
	$(CC) $(OPTIMIZE) -c $(CORE_SRC) -o $(CORE_OBJ)

# -----------------------------------------------------------------------------------------------------------------------------
#
# Type Object
#
# -----------------------------------------------------------------------------------------------------------------------------
$(ENUM_OBJ1): $(ENUM_SRC1) $(ENUM_HDR1)
	$(CC) $(OPTIMIZE) -c $(ENUM_SRC1) -o $(ENUM_OBJ1)

$(ENUM_OBJ2): $(ENUM_SRC2) $(ENUM_HDR2)
	$(CC) $(OPTIMIZE) -c $(ENUM_SRC2) -o $(ENUM_OBJ2)